{"version":3,"sources":["../../src/rules/requireParam.js"],"names":["rootNamer","desiredRoots","currentIndex","name","idx","incremented","length","base","suffix","shift","jsdoc","utils","context","functionParameterNames","getFunctionParameterNames","preferredTagName","getPreferredTagName","tagName","jsdocParameterNames","getJsdocTagsDeep","shallowJsdocParameterNames","filter","tag","includes","map","avoidDocs","hasTag","options","autoIncrementBase","checkRestProperty","checkDestructured","checkTypesPattern","enableFixer","enableRootFixer","enableRestElementFixer","unnamedRootBase","lastSlashPos","lastIndexOf","checkTypesRegex","RegExp","slice","missingTags","flattenedRoots","flattenRoots","names","paramIndex","reduce","acc","cur","findExpectedIndex","jsdocTags","indexAtFunctionParams","remainingRoots","foundIndex","findIndex","newAdd","some","remainingRoot","Array","isArray","paramTags","nextRootName","namer","forEach","functionParameterName","functionParameterIdx","inc","matchedJsdoc","rootName","type","search","hasRestElement","hasPropertyRest","rests","paramName","find","fpn","emptyParamIdx","push","remove","_","has","fullParamName","undefined","funcParamName","restElement","fix","tags","splice","expectedIdx","fixer","missingTag","reportJSDoc","contextDefaults","meta","fixable","schema","additionalProperties","properties","default","checkConstructors","checkGetters","checkSetters","contexts","items","exemptedBy"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport iterateJsdoc from '../iterateJsdoc';\n\ntype T = [string, () => T];\nconst rootNamer = (desiredRoots: string[], currentIndex: number): T => {\n  let name;\n  let idx = currentIndex;\n  const incremented = desiredRoots.length <= 1;\n  if (incremented) {\n    const base = desiredRoots[0];\n    const suffix = idx++;\n    name = `${base}${suffix}`;\n  } else {\n    name = desiredRoots.shift();\n  }\n\n  return [name, incremented, () => {\n    return rootNamer(desiredRoots, idx);\n  }];\n};\n\nexport default iterateJsdoc(({\n  jsdoc,\n  utils,\n  context,\n}) => {\n  const functionParameterNames = utils.getFunctionParameterNames();\n  const preferredTagName = utils.getPreferredTagName({tagName: 'param'});\n  if (!preferredTagName) {\n    return;\n  }\n  const jsdocParameterNames = utils.getJsdocTagsDeep(preferredTagName);\n\n  const shallowJsdocParameterNames = jsdocParameterNames.filter((tag) => {\n    return !tag.name.includes('.');\n  }).map((tag, idx) => {\n    return {...tag,\n      idx};\n  });\n\n  if (utils.avoidDocs()) {\n    return;\n  }\n\n  // Param type is specified by type in @type\n  if (utils.hasTag('type')) {\n    return;\n  }\n\n  const {\n    autoIncrementBase = 0,\n    checkRestProperty = false,\n    checkDestructured = true,\n    checkTypesPattern = '/^(?:[oO]bject|[aA]rray|PlainObject|Generic(?:Object|Array))$/',\n    enableFixer = true,\n    enableRootFixer = true,\n    enableRestElementFixer = true,\n    unnamedRootBase = ['root'],\n  } = context.options[0] || {};\n\n  const lastSlashPos = checkTypesPattern.lastIndexOf('/');\n  const checkTypesRegex = lastSlashPos === -1 ?\n    new RegExp(checkTypesPattern) :\n    new RegExp(checkTypesPattern.slice(1, lastSlashPos), checkTypesPattern.slice(lastSlashPos + 1));\n\n  const missingTags = [];\n  const flattenedRoots = utils.flattenRoots(functionParameterNames).names;\n  const paramIndex = flattenedRoots.reduce((acc, cur, idx) => {\n    acc[cur] = idx;\n\n    return acc;\n  }, {});\n\n  const findExpectedIndex = (jsdocTags, indexAtFunctionParams) => {\n    const remainingRoots = functionParameterNames.slice(indexAtFunctionParams || 0);\n    const foundIndex = jsdocTags.findIndex(({name, newAdd}) => {\n      return !newAdd && remainingRoots.some((remainingRoot) => {\n        if (Array.isArray(remainingRoot)) {\n          return remainingRoot[1].names.includes(name);\n        }\n        if (typeof remainingRoot === 'object') {\n          return name === remainingRoot.name;\n        }\n\n        return name === remainingRoot;\n      });\n    });\n\n    if (foundIndex > -1) {\n      return foundIndex;\n    }\n\n    const paramTags = jsdocTags.filter(({tag}) => {\n      return tag === preferredTagName;\n    });\n\n    return paramTags.length;\n  };\n\n  let [nextRootName, incremented, namer] = rootNamer([...unnamedRootBase], autoIncrementBase);\n\n  functionParameterNames.forEach((functionParameterName, functionParameterIdx) => {\n    let inc;\n    if (Array.isArray(functionParameterName)) {\n      const matchedJsdoc = shallowJsdocParameterNames[functionParameterIdx] ||\n        jsdocParameterNames[functionParameterIdx];\n\n      let rootName;\n      if (functionParameterName[0]) {\n        rootName = functionParameterName[0];\n      } else if (matchedJsdoc && matchedJsdoc.name) {\n        rootName = matchedJsdoc.name;\n        if (matchedJsdoc.type && matchedJsdoc.type.search(checkTypesRegex) === -1) {\n          return;\n        }\n      } else {\n        rootName = nextRootName;\n        inc = incremented;\n        [nextRootName, incremented, namer] = namer();\n      }\n\n      const {hasRestElement, hasPropertyRest, rests, names} = functionParameterName[1];\n      if (!enableRestElementFixer && hasRestElement) {\n        return;\n      }\n\n      names.forEach((paramName, idx) => {\n        // Add root if the root name is not in the docs (and is not already\n        //  in the tags to be fixed)\n        if (!jsdocParameterNames.find(({name}) => {\n          return name === rootName;\n        }) && !missingTags.find(({functionParameterName: fpn}) => {\n          return fpn === rootName;\n        })) {\n          const emptyParamIdx = jsdocParameterNames.findIndex(({name}) => {\n            return !name;\n          });\n\n          if (emptyParamIdx > -1) {\n            missingTags.push({\n              functionParameterIdx: emptyParamIdx,\n              functionParameterName: rootName,\n              inc,\n              remove: true,\n            });\n          } else {\n            missingTags.push({\n              functionParameterIdx: _.has(paramIndex, rootName) ?\n                paramIndex[rootName] :\n                paramIndex[paramName],\n              functionParameterName: rootName,\n              inc,\n            });\n          }\n        }\n\n        if (!checkDestructured) {\n          return;\n        }\n\n        if (!checkRestProperty && rests[idx]) {\n          return;\n        }\n\n        const fullParamName = `${rootName}.${paramName}`;\n\n        if (jsdocParameterNames && !jsdocParameterNames.find(({name}) => {\n          return name === fullParamName;\n        })) {\n          missingTags.push({\n            functionParameterIdx: paramIndex[functionParameterName[0] ? fullParamName : paramName],\n            functionParameterName: fullParamName,\n            inc,\n            type: hasRestElement && !hasPropertyRest ? '...any' : undefined,\n          });\n        }\n      });\n\n      return;\n    }\n    let funcParamName;\n    let type;\n    if (typeof functionParameterName === 'object') {\n      if (!enableRestElementFixer && functionParameterName.restElement) {\n        return;\n      }\n      funcParamName = functionParameterName.name;\n      type = '...any';\n    } else {\n      funcParamName = functionParameterName;\n    }\n\n    if (jsdocParameterNames && !jsdocParameterNames.find(({name}) => {\n      return name === funcParamName;\n    })) {\n      missingTags.push({\n        functionParameterIdx: paramIndex[funcParamName],\n        functionParameterName: funcParamName,\n        inc,\n        type,\n      });\n    }\n  });\n\n  const fix = ({\n    functionParameterIdx, functionParameterName, remove, inc, type,\n  }, tags) => {\n    if (inc && !enableRootFixer) {\n      return;\n    }\n    if (remove) {\n      tags.splice(functionParameterIdx, 1, {\n        name: functionParameterName,\n        newAdd: true,\n        tag: preferredTagName,\n        type,\n      });\n    } else {\n      const expectedIdx = findExpectedIndex(tags, functionParameterIdx);\n      tags.splice(expectedIdx, 0, {\n        name: functionParameterName,\n        newAdd: true,\n        tag: preferredTagName,\n        type,\n      });\n    }\n  };\n\n  const fixer = () => {\n    if (!jsdoc.tags) {\n      jsdoc.tags = [];\n    }\n\n    missingTags.forEach((missingTag) => {\n      fix(missingTag, jsdoc.tags);\n    });\n  };\n\n  missingTags.forEach(({functionParameterName}) => {\n    utils.reportJSDoc(\n      `Missing JSDoc @${preferredTagName} \"${functionParameterName}\" declaration.`,\n      null,\n      enableFixer ? fixer : null,\n    );\n  });\n}, {\n  contextDefaults: true,\n  meta: {\n    fixable: 'code',\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          autoIncrementBase: {\n            default: 0,\n            type: 'integer',\n          },\n          checkConstructors: {\n            default: true,\n            type: 'boolean',\n          },\n          checkDestructured: {\n            type: 'boolean',\n          },\n          checkGetters: {\n            default: false,\n            type: 'boolean',\n          },\n          checkRestProperty: {\n            default: false,\n            type: 'boolean',\n          },\n          checkSetters: {\n            default: false,\n            type: 'boolean',\n          },\n          checkTypesPattern: {\n            type: 'string',\n          },\n          contexts: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n          enableFixer: {\n            type: 'boolean',\n          },\n          enableRestElementFixer: {\n            type: 'boolean',\n          },\n          enableRootFixer: {\n            type: 'boolean',\n          },\n          exemptedBy: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n          unnamedRootBase: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n        },\n        type: 'object',\n      },\n    ],\n    type: 'suggestion',\n  },\n});\n"],"file":"requireParam.js"}